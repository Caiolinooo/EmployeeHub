# ğŸ”„ Diagrama de Fluxo - Sistema de Ciclos AutomÃ¡ticos

## ğŸ“Š VisÃ£o Geral do Sistema

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ADMIN MODULE                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  1. Criar PerÃ­odo de AvaliaÃ§Ã£o                                       â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚     â”‚ Nome: "AvaliaÃ§Ã£o Q1 2025"            â”‚                        â”‚
â”‚     â”‚ Data InÃ­cio: 2025-01-01              â”‚                        â”‚
â”‚     â”‚ Data Fim: 2025-03-31                 â”‚                        â”‚
â”‚     â”‚ Data Limite Auto: 2025-02-15         â”‚                        â”‚
â”‚     â”‚ Ativo: âœ…                            â”‚                        â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                         â†“                                            â”‚
â”‚  2. Configurar Colaborador-Gerente                                   â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚     â”‚ Colaborador: JoÃ£o Silva              â”‚                        â”‚
â”‚     â”‚ Gerente: Maria Santos                â”‚                        â”‚
â”‚     â”‚ PerÃ­odo: "AvaliaÃ§Ã£o Q1 2025"         â”‚                        â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
                    [DETECÃ‡ÃƒO AUTOMÃTICA]
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    COLABORADOR DASHBOARD                             â”‚
â”‚                     /avaliacao (page.tsx)                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  Server Component:                                                   â”‚
â”‚    â†’ verifyToken(JWT)                                                â”‚
â”‚    â†’ getAvailablePeriods(userId)                                     â”‚
â”‚         â”œâ”€ PerÃ­odos Ativos: data_inicio â‰¤ hoje â‰¤ data_fim          â”‚
â”‚         â””â”€ PerÃ­odos PrÃ³ximos: hoje < data_inicio â‰¤ hoje+14d        â”‚
â”‚    â†’ Para cada perÃ­odo: getMyEvaluationForPeriod()                  â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ ğŸ“‹ PerÃ­odos Ativos - Preencha Sua AvaliaÃ§Ã£o              â”‚     â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚     â”‚
â”‚  â”‚  â”‚ ğŸŸ¢ ATIVO     â”‚  â”‚ ğŸŸ  ATIVO     â”‚  â”‚ ğŸ”´ ATIVO     â”‚    â”‚     â”‚
â”‚  â”‚  â”‚ Q1 2025      â”‚  â”‚ Q2 2025      â”‚  â”‚ Q3 2025      â”‚    â”‚     â”‚
â”‚  â”‚  â”‚ Encerra em   â”‚  â”‚ Encerra em   â”‚  â”‚ Encerra em   â”‚    â”‚     â”‚
â”‚  â”‚  â”‚ 15 dias      â”‚  â”‚ 5 dias       â”‚  â”‚ 2 dias       â”‚    â”‚     â”‚
â”‚  â”‚  â”‚ [Iniciar]    â”‚  â”‚ [Iniciar]    â”‚  â”‚ [Iniciar]    â”‚    â”‚     â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ ğŸ“… PrÃ³ximos PerÃ­odos                                      â”‚     â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚     â”‚
â”‚  â”‚  â”‚ ğŸ”µ PRÃ“XIMO   â”‚  â”‚ ğŸ”µ PRÃ“XIMO   â”‚                       â”‚     â”‚
â”‚  â”‚  â”‚ Q4 2025      â”‚  â”‚ Q1 2026      â”‚                       â”‚     â”‚
â”‚  â”‚  â”‚ Inicia em    â”‚  â”‚ Inicia em    â”‚                       â”‚     â”‚
â”‚  â”‚  â”‚ 7 dias       â”‚  â”‚ 14 dias      â”‚                       â”‚     â”‚
â”‚  â”‚  â”‚ [Em breve]   â”‚  â”‚ [Em breve]   â”‚                       â”‚     â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
                    [COLABORADOR CLICA "INICIAR"]
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  API: POST /api/avaliacao/iniciar-periodo            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  1. Verificar JWT Token                                              â”‚
â”‚     â””â”€ âŒ InvÃ¡lido â†’ 401 Unauthorized                               â”‚
â”‚                                                                       â”‚
â”‚  2. Buscar PerÃ­odo no DB                                             â”‚
â”‚     â”œâ”€ âŒ NÃ£o existe â†’ 404 "PerÃ­odo nÃ£o encontrado"                â”‚
â”‚     â”œâ”€ âŒ Inativo â†’ 404 "PerÃ­odo inativo"                           â”‚
â”‚     â””â”€ âŒ NÃ£o iniciou â†’ 400 "PerÃ­odo ainda nÃ£o iniciou"            â”‚
â”‚                                                                       â”‚
â”‚  3. Verificar AvaliaÃ§Ã£o Existente                                    â”‚
â”‚     â””â”€ âœ… JÃ¡ existe â†’ Retorna avaliaÃ§Ã£o { isNew: false }           â”‚
â”‚                                                                       â”‚
â”‚  4. Buscar Gerente Configurado                                       â”‚
â”‚     â””â”€ âŒ NÃ£o configurado â†’ 400 "Gerente nÃ£o configurado"          â”‚
â”‚                                                                       â”‚
â”‚  5. Criar Nova AvaliaÃ§Ã£o                                             â”‚
â”‚     INSERT INTO avaliacoes_desempenho (                              â”‚
â”‚       funcionario_id,                                                â”‚
â”‚       gerente_id,                                                    â”‚
â”‚       periodo_id,                                                    â”‚
â”‚       status: 'pendente_autoavaliacao',                              â”‚
â”‚       respostas: {}                                                  â”‚
â”‚     )                                                                â”‚
â”‚                                                                       â”‚
â”‚  6. Retornar AvaliaÃ§Ã£o                                               â”‚
â”‚     { success: true, avaliacao: {...}, isNew: true }                â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
                [REDIRECIONA PARA /avaliacao/preencher/[id]]
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              PÃGINA DE PREENCHIMENTO (Colaborador)                   â”‚
â”‚                /avaliacao/preencher/[id]/page.tsx                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  Server Component:                                                   â”‚
â”‚    â†’ verifyToken(JWT) â†’ userId                                       â”‚
â”‚    â†’ getEvaluationById(id) â†’ avaliacao                               â”‚
â”‚    â†’ Verificar PermissÃµes:                                           â”‚
â”‚         â”œâ”€ funcionario_id === userId? â†’ Colaborador                 â”‚
â”‚         â”œâ”€ gerente_id === userId? â†’ Gerente                         â”‚
â”‚         â””â”€ Nenhum? â†’ 403 Redirect                                    â”‚
â”‚    â†’ Verificar Status:                                               â”‚
â”‚         â”œâ”€ Colaborador + status !== 'pendente_autoavaliacao'        â”‚
â”‚         â”‚    â†’ Redirect para /ver/[id]                               â”‚
â”‚         â””â”€ Gerente + status === 'pendente_autoavaliacao'            â”‚
â”‚              â†’ Redirect com erro "Aguardando colaborador"            â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ â† Voltar                                                  â”‚     â”‚
â”‚  â”‚                                                            â”‚     â”‚
â”‚  â”‚ AUTOAVALIAÃ‡ÃƒO                                              â”‚     â”‚
â”‚  â”‚ PerÃ­odo: AvaliaÃ§Ã£o Q1 2025                                 â”‚     â”‚
â”‚  â”‚ Colaborador: JoÃ£o Silva                                    â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ ğŸ“‹ INSTRUÃ‡Ã•ES                                             â”‚     â”‚
â”‚  â”‚ â€¢ Responda as questÃµes 11 a 14                             â”‚     â”‚
â”‚  â”‚ â€¢ Use a escala de 1 a 5 estrelas                           â”‚     â”‚
â”‚  â”‚ â€¢ ForneÃ§a exemplos especÃ­ficos nos comentÃ¡rios             â”‚     â”‚
â”‚  â”‚ â€¢ VocÃª pode salvar como rascunho                           â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ ğŸ‘¤ AUTOAVALIAÃ‡ÃƒO (COLABORADOR)                            â”‚     â”‚
â”‚  â”‚ QuestÃµes 11-14 â€¢ Sua percepÃ§Ã£o sobre seu desempenho        â”‚     â”‚
â”‚  â”‚                                                [â–¼]          â”‚     â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚  â”‚                                                            â”‚     â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚     â”‚
â”‚  â”‚  â”‚ 11  Q11: CompetÃªncias TÃ©cnicas                     â”‚   â”‚     â”‚
â”‚  â”‚  â”‚     Avalie seu domÃ­nio das ferramentas...          â”‚   â”‚     â”‚
â”‚  â”‚  â”‚                                                     â”‚   â”‚     â”‚
â”‚  â”‚  â”‚     AvaliaÃ§Ã£o: â˜…â˜…â˜…â˜…â˜…                           5/5 â”‚   â”‚     â”‚
â”‚  â”‚  â”‚                                                     â”‚   â”‚     â”‚
â”‚  â”‚  â”‚     ComentÃ¡rios:                                    â”‚   â”‚     â”‚
â”‚  â”‚  â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚     â”‚
â”‚  â”‚  â”‚     â”‚ Desenvolvi proficiÃªncia em React...     â”‚    â”‚   â”‚     â”‚
â”‚  â”‚  â”‚     â”‚                                          â”‚    â”‚   â”‚     â”‚
â”‚  â”‚  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚     â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚     â”‚
â”‚  â”‚                                                            â”‚     â”‚
â”‚  â”‚  [Repetir para Q12, Q13, Q14]                              â”‚     â”‚
â”‚  â”‚                                                            â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚                                                            â”‚     â”‚
â”‚  â”‚          [Salvar Rascunho]  [Enviar para AprovaÃ§Ã£o] â†’    â”‚     â”‚
â”‚  â”‚                                                            â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
                   [SALVAR RASCUNHO OU ENVIAR]
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               API: PATCH /api/avaliacao/[id]                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  SALVAR RASCUNHO:                                                    â”‚
â”‚    Body: { respostas: {...}, status: 'pendente_autoavaliacao' }     â”‚
â”‚    â†’ Atualiza respostas, mantÃ©m status                               â”‚
â”‚    â†’ 200 OK                                                          â”‚
â”‚                                                                       â”‚
â”‚  ENVIAR PARA APROVAÃ‡ÃƒO:                                              â”‚
â”‚    Body: { respostas: {...}, status: 'pendente_aprovacao_gerente' } â”‚
â”‚    â†’ Valida todas Q11-Q14 preenchidas                                â”‚
â”‚    â†’ Atualiza respostas + status                                     â”‚
â”‚    â†’ 200 OK â†’ Redireciona para /ver/[id]                             â”‚
â”‚                                                                       â”‚
â”‚  VALIDAÃ‡Ã•ES:                                                         â”‚
â”‚    â”œâ”€ Colaborador sÃ³ edita se status === 'pendente_autoavaliacao'   â”‚
â”‚    â”œâ”€ Gerente sÃ³ edita se status === 'pendente_aprovacao_gerente'   â”‚
â”‚    â””â”€ TransiÃ§Ãµes vÃ¡lidas:                                            â”‚
â”‚         â€¢ pendente_autoavaliacao â†’ pendente_aprovacao_gerente        â”‚
â”‚         â€¢ pendente_aprovacao_gerente â†’ concluida                     â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
                  [STATUS: pendente_aprovacao_gerente]
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    GERENTE DASHBOARD                                 â”‚
â”‚                     /avaliacao (page.tsx)                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ ğŸ” Filtros                                                 â”‚     â”‚
â”‚  â”‚ Status: [Pendente AprovaÃ§Ã£o Gerente â–¼]                     â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ ğŸ“‹ AvaliaÃ§Ãµes Pendentes                                    â”‚     â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚     â”‚
â”‚  â”‚  â”‚ ğŸŸ¡ Pendente AprovaÃ§Ã£o Gerente                      â”‚   â”‚     â”‚
â”‚  â”‚  â”‚ Colaborador: JoÃ£o Silva                            â”‚   â”‚     â”‚
â”‚  â”‚  â”‚ PerÃ­odo: AvaliaÃ§Ã£o Q1 2025                         â”‚   â”‚     â”‚
â”‚  â”‚  â”‚ Enviado em: 15/01/2025                             â”‚   â”‚     â”‚
â”‚  â”‚  â”‚                                    [Revisar] â†’     â”‚   â”‚     â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
                     [GERENTE CLICA "REVISAR"]
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              PÃGINA DE PREENCHIMENTO (Gerente)                       â”‚
â”‚                /avaliacao/preencher/[id]/page.tsx                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  Server Component:                                                   â”‚
â”‚    â†’ verifyToken(JWT) â†’ userId                                       â”‚
â”‚    â†’ getEvaluationById(id) â†’ avaliacao                               â”‚
â”‚    â†’ Verificar: gerente_id === userId                                â”‚
â”‚    â†’ isManager = true                                                â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ â† Voltar                                                  â”‚     â”‚
â”‚  â”‚                                                            â”‚     â”‚
â”‚  â”‚ AVALIAÃ‡ÃƒO GERENCIAL                                        â”‚     â”‚
â”‚  â”‚ PerÃ­odo: AvaliaÃ§Ã£o Q1 2025                                 â”‚     â”‚
â”‚  â”‚ Colaborador: JoÃ£o Silva                                    â”‚     â”‚
â”‚  â”‚ Sua funÃ§Ã£o: Gestor Avaliador                               â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ ğŸ“‹ INSTRUÃ‡Ã•ES (GERENTE)                                   â”‚     â”‚
â”‚  â”‚ â€¢ Avalie o desempenho nas questÃµes 15-17                   â”‚     â”‚
â”‚  â”‚ â€¢ Revise a autoavaliaÃ§Ã£o (11-14)                           â”‚     â”‚
â”‚  â”‚ â€¢ ForneÃ§a feedback construtivo                             â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ ğŸ‘¤ AUTOAVALIAÃ‡ÃƒO (COLABORADOR)                  [â–¼]       â”‚     â”‚
â”‚  â”‚ QuestÃµes 11-14 â€¢ RevisÃ£o                                   â”‚     â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚  â”‚ [Q11-Q14 visÃ­veis em modo READ-ONLY]                       â”‚     â”‚
â”‚  â”‚ - Estrelas preenchidas com notas do colaborador            â”‚     â”‚
â”‚  â”‚ - ComentÃ¡rios visÃ­veis mas nÃ£o editÃ¡veis                   â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ ğŸ‘¥ AVALIAÃ‡ÃƒO GERENCIAL                          [â–¼]       â”‚     â”‚
â”‚  â”‚ QuestÃµes 15-17 â€¢ AvaliaÃ§Ã£o do gestor direto                â”‚     â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚  â”‚                                                            â”‚     â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚     â”‚
â”‚  â”‚  â”‚ 15  Q15: Atingimento de Metas                      â”‚   â”‚     â”‚
â”‚  â”‚  â”‚     O colaborador atingiu as metas...              â”‚   â”‚     â”‚
â”‚  â”‚  â”‚                                                     â”‚   â”‚     â”‚
â”‚  â”‚  â”‚     AvaliaÃ§Ã£o: â˜…â˜…â˜…â˜…â˜…                           5/5 â”‚   â”‚     â”‚
â”‚  â”‚  â”‚                                                     â”‚   â”‚     â”‚
â”‚  â”‚  â”‚     ComentÃ¡rios:                                    â”‚   â”‚     â”‚
â”‚  â”‚  â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚     â”‚
â”‚  â”‚  â”‚     â”‚ Superou expectativas em todos...        â”‚    â”‚   â”‚     â”‚
â”‚  â”‚  â”‚     â”‚                                          â”‚    â”‚   â”‚     â”‚
â”‚  â”‚  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚     â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚     â”‚
â”‚  â”‚                                                            â”‚     â”‚
â”‚  â”‚  [Repetir para Q16, Q17]                                   â”‚     â”‚
â”‚  â”‚                                                            â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚                                                            â”‚     â”‚
â”‚  â”‚          [Salvar Rascunho]  [Finalizar AvaliaÃ§Ã£o] â†’      â”‚     â”‚
â”‚  â”‚                                                            â”‚     â”‚
â”‚  â”‚  Ao finalizar, a avaliaÃ§Ã£o serÃ¡ marcada como concluÃ­da    â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
                    [GERENTE CLICA "FINALIZAR"]
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               API: PATCH /api/avaliacao/[id]                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  Body: { respostas: {...}, status: 'concluida' }                    â”‚
â”‚                                                                       â”‚
â”‚  1. Validar todas Q15-Q17 preenchidas                                â”‚
â”‚  2. Atualizar respostas + status                                     â”‚
â”‚  3. CALCULAR NOTA FINAL:                                             â”‚
â”‚     notas = [Q11.nota, Q12.nota, ..., Q17.nota]                      â”‚
â”‚     nota_final = MÃ‰DIA(notas) = (5+4+5+4+5+4+5) / 7 = 4.57          â”‚
â”‚  4. Salvar nota_final no registro                                    â”‚
â”‚  5. 200 OK â†’ Redireciona para /ver/[id]                              â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
                      [STATUS: concluida]
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   VISUALIZAÃ‡ÃƒO FINAL                                 â”‚
â”‚                  /avaliacao/ver/[id]/page.tsx                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ âœ… AVALIAÃ‡ÃƒO CONCLUÃDA                                    â”‚     â”‚
â”‚  â”‚                                                            â”‚     â”‚
â”‚  â”‚ PerÃ­odo: AvaliaÃ§Ã£o Q1 2025                                 â”‚     â”‚
â”‚  â”‚ Colaborador: JoÃ£o Silva                                    â”‚     â”‚
â”‚  â”‚ Gerente: Maria Santos                                      â”‚     â”‚
â”‚  â”‚                                                            â”‚     â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚     â”‚
â”‚  â”‚ â”‚         NOTA FINAL: 4.57 / 5.00                    â”‚    â”‚     â”‚
â”‚  â”‚ â”‚             â˜…â˜…â˜…â˜…â˜…                                 â”‚    â”‚     â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚     â”‚
â”‚  â”‚                                                            â”‚     â”‚
â”‚  â”‚ ConcluÃ­da em: 20/01/2025                                   â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ ğŸ“Š DETALHAMENTO DAS RESPOSTAS                             â”‚     â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚  â”‚                                                            â”‚     â”‚
â”‚  â”‚ AUTOAVALIAÃ‡ÃƒO (COLABORADOR)                                â”‚     â”‚
â”‚  â”‚ â”œâ”€ Q11: CompetÃªncias TÃ©cnicas           5â˜…  "..."         â”‚     â”‚
â”‚  â”‚ â”œâ”€ Q12: Produtividade                   4â˜…  "..."         â”‚     â”‚
â”‚  â”‚ â”œâ”€ Q13: ColaboraÃ§Ã£o                     5â˜…  "..."         â”‚     â”‚
â”‚  â”‚ â””â”€ Q14: Iniciativa                      4â˜…  "..."         â”‚     â”‚
â”‚  â”‚                                                            â”‚     â”‚
â”‚  â”‚ AVALIAÃ‡ÃƒO GERENCIAL                                        â”‚     â”‚
â”‚  â”‚ â”œâ”€ Q15: Atingimento de Metas            5â˜…  "..."         â”‚     â”‚
â”‚  â”‚ â”œâ”€ Q16: Qualidade das Entregas          4â˜…  "..."         â”‚     â”‚
â”‚  â”‚ â””â”€ Q17: Potencial de Crescimento        5â˜…  "..."         â”‚     â”‚
â”‚  â”‚                                                            â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                       â”‚
â”‚  [Exportar PDF]  [Voltar ao Dashboard]                               â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—ºï¸ Mapa de Rotas

```
/avaliacao
  â”œâ”€â”€ page.tsx                    (Dashboard - Lista perÃ­odos + avaliaÃ§Ãµes)
  â”‚   â””â”€â”€ EvaluationListClient.tsx
  â”‚
  â”œâ”€â”€ /nova
  â”‚   â”œâ”€â”€ page.tsx                (Admin - Criar avaliaÃ§Ã£o manual)
  â”‚   â””â”€â”€ NewEvaluationClient.tsx
  â”‚
  â”œâ”€â”€ /preencher/[id]             âœ¨ NOVO
  â”‚   â”œâ”€â”€ page.tsx                (Preencher avaliaÃ§Ã£o - Colaborador/Gerente)
  â”‚   â””â”€â”€ FillEvaluationClient.tsx
  â”‚
  â”œâ”€â”€ /ver/[id]
  â”‚   â”œâ”€â”€ page.tsx                (Visualizar avaliaÃ§Ã£o concluÃ­da)
  â”‚   â””â”€â”€ ViewEvaluationClient.tsx
  â”‚
  â””â”€â”€ /gerenciar
      â””â”€â”€ page.tsx                (Admin - Gerenciar avaliaÃ§Ãµes)
```

---

## ğŸ”Œ Mapa de APIs

```
/api/avaliacao
  â”œâ”€â”€ /iniciar-periodo            âœ¨ NOVO
  â”‚   â””â”€â”€ POST                    (Cria avaliaÃ§Ã£o on-demand para perÃ­odo)
  â”‚
  â”œâ”€â”€ /[id]                       âœ¨ NOVO
  â”‚   â”œâ”€â”€ GET                     (Busca avaliaÃ§Ã£o por ID)
  â”‚   â””â”€â”€ PATCH                   (Atualiza respostas + status)
  â”‚
  â”œâ”€â”€ /criterios
  â”‚   â””â”€â”€ ...                     (Gerenciar critÃ©rios de avaliaÃ§Ã£o)
  â”‚
  â””â”€â”€ /settings
      â””â”€â”€ ...                     (ConfiguraÃ§Ãµes do mÃ³dulo)
```

---

## ğŸ“¦ Mapa de Componentes

```
src/components/avaliacao
  â”œâ”€â”€ ActivePeriodCard.tsx        âœ¨ NOVO (Card de perÃ­odo com aÃ§Ã£o)
  â”œâ”€â”€ QuestionarioAvaliacaoCardBased.tsx (QuestÃµes Q11-Q17)
  â”œâ”€â”€ EvaluationStatusBadge.tsx
  â””â”€â”€ ...
```

---

## ğŸ—„ï¸ Mapa de ServiÃ§os

```
src/services/evaluationService.ts
  â”œâ”€â”€ getAvailablePeriods()       âœ¨ NOVO (Detecta perÃ­odos ativos/prÃ³ximos)
  â”œâ”€â”€ getMyEvaluationForPeriod()  âœ¨ NOVO (Checa avaliaÃ§Ã£o existente)
  â”œâ”€â”€ getManagerForUser()         âœ¨ NOVO (Busca gerente configurado)
  â”œâ”€â”€ getEvaluationById()         ğŸ”§ MODIFICADO (+ joins de relaÃ§Ãµes)
  â””â”€â”€ ...
```

---

## ğŸ”„ Diagrama de Estados

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  pendente_autoavaliacao      â”‚  â† CriaÃ§Ã£o inicial
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â”‚ Colaborador preenche Q11-Q14
              â”‚ e clica "Enviar para AprovaÃ§Ã£o"
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  pendente_aprovacao_gerente  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â”‚ Gerente preenche Q15-Q17
              â”‚ e clica "Finalizar AvaliaÃ§Ã£o"
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         concluida            â”‚  â† nota_final calculada
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

TRANSIÃ‡Ã•ES BLOQUEADAS:
âŒ pendente_autoavaliacao â†’ concluida
âŒ qualquer status â† (voltar)
âŒ concluida â†’ qualquer status (final)
```

---

## ğŸ¨ Diagrama de Cores

```
PERÃODOS:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Status          â”‚ Cor                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Ativo (>7d)     â”‚ ğŸŸ¢ Green (border-green-200)       â”‚
â”‚ Ativo (4-7d)    â”‚ ğŸŸ  Orange (border-orange-200)     â”‚
â”‚ Ativo (â‰¤3d)     â”‚ ğŸ”´ Red (border-red-200)           â”‚
â”‚ PrÃ³ximo         â”‚ ğŸ”µ Blue (border-blue-200)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

BADGES DE STATUS:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Status AvaliaÃ§Ã£o         â”‚ Badge                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ pendente_autoavaliacao   â”‚ ğŸŸ¡ Yellow                â”‚
â”‚ pendente_aprovacao_ger.  â”‚ ğŸ”µ Blue                  â”‚
â”‚ concluida                â”‚ ğŸŸ¢ Green                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Diagrama de Dados (JSONB)

```json
{
  "respostas": {
    "Q11": {
      "nota": 5,
      "comentario": "Desenvolvi proficiÃªncia avanÃ§ada em React..."
    },
    "Q12": {
      "nota": 4,
      "comentario": "Entreguei 95% dos projetos no prazo..."
    },
    "Q13": {
      "nota": 5,
      "comentario": "Colaborei ativamente em 3 projetos cross-team..."
    },
    "Q14": {
      "nota": 4,
      "comentario": "Propus e implementei sistema de cache..."
    },
    "Q15": {
      "nota": 5,
      "comentario": "Superou as metas de Q1 em 120%..."
    },
    "Q16": {
      "nota": 4,
      "comentario": "Qualidade consistente, poucos bugs..."
    },
    "Q17": {
      "nota": 5,
      "comentario": "Demonstra potencial para posiÃ§Ã£o de Tech Lead..."
    }
  }
}

CÃLCULO DE NOTA FINAL:
nota_final = (5 + 4 + 5 + 4 + 5 + 4 + 5) / 7
           = 32 / 7
           = 4.57
```

---

## ğŸ” Diagrama de PermissÃµes

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   MATRIZ DE PERMISSÃ•ES                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ AÃ§Ã£o            â”‚ Colaborador   â”‚ Gerente       â”‚ Outro     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Ver Dashboard   â”‚ âœ… PrÃ³prias   â”‚ âœ… Time       â”‚ âŒ         â”‚
â”‚ Ver PerÃ­odo     â”‚ âœ… Ativos     â”‚ âœ… Todos      â”‚ âŒ         â”‚
â”‚ Iniciar Aval.   â”‚ âœ…            â”‚ âŒ            â”‚ âŒ         â”‚
â”‚ Editar Q11-14   â”‚ âœ… (se pend.) â”‚ âŒ            â”‚ âŒ         â”‚
â”‚ Editar Q15-17   â”‚ âŒ            â”‚ âœ… (se aprov.)â”‚ âŒ         â”‚
â”‚ Visualizar      â”‚ âœ… PrÃ³prias   â”‚ âœ… Time       â”‚ âŒ         â”‚
â”‚ Finalizar       â”‚ âŒ            â”‚ âœ…            â”‚ âŒ         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

STATUS vs PERMISSÃƒO:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Status                  â”‚ Colaborador â”‚ Gerente     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ pendente_autoavaliacao  â”‚ âœï¸ EDITAR   â”‚ ğŸ”’ BLOQUEAR â”‚
â”‚ pendente_aprovacao_ger. â”‚ ğŸ”’ BLOQUEAR â”‚ âœï¸ EDITAR   â”‚
â”‚ concluida               â”‚ ğŸ‘ï¸ VER     â”‚ ğŸ‘ï¸ VER     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âš¡ Diagrama de Performance

```
TEMPOS ESPERADOS:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ OperaÃ§Ã£o                        â”‚ Tempo (ms)   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Dashboard Load (SSR)            â”‚ < 2000       â”‚
â”‚ PÃ¡gina Preenchimento (SSR)      â”‚ < 1000       â”‚
â”‚ POST /iniciar-periodo           â”‚ < 500        â”‚
â”‚ PATCH /avaliacao/[id]           â”‚ < 300        â”‚
â”‚ Card Animation (Framer Motion)  â”‚ 50           â”‚
â”‚ SeÃ§Ã£o Expand/Collapse           â”‚ 300          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

OTIMIZAÃ‡Ã•ES:
âœ… Server Components para fetching inicial
âœ… Client Components apenas onde necessÃ¡rio
âœ… Parallel data fetching (Promise.all)
âœ… Supabase queries com joins eficientes
âœ… Framer Motion com lazy loading
âœ… AnimaÃ§Ãµes sequenciais com delay incremental
```

---

## ğŸ§ª Fluxo de Testes

```
SETUP
  â†“
1. Admin cria perÃ­odo ativo
  â†“
2. Admin configura gerente
  â†“
DETECÃ‡ÃƒO
  â†“
3. Colaborador vÃª card no dashboard
  â†“
4. Colaborador clica "Iniciar"
  â†“
API
  â†“
5. API valida e cria avaliaÃ§Ã£o
  â†“
6. Redireciona para /preencher/[id]
  â†“
COLABORADOR
  â†“
7. Preenche Q11-Q14
  â†“
8. Salva rascunho (opcional)
  â†“
9. Envia para aprovaÃ§Ã£o
  â†“
GERENTE
  â†“
10. VÃª avaliaÃ§Ã£o pendente
  â†“
11. Acessa /preencher/[id]
  â†“
12. Revisa Q11-Q14 (read-only)
  â†“
13. Preenche Q15-Q17
  â†“
14. Finaliza avaliaÃ§Ã£o
  â†“
CONCLUSÃƒO
  â†“
15. nota_final calculada
  â†“
16. Status = concluida
  â†“
17. VisualizaÃ§Ã£o final
```

---

**Este diagrama mapeia todo o fluxo do sistema de ciclos automÃ¡ticos de avaliaÃ§Ã£o. Use-o como referÃªncia durante implementaÃ§Ã£o, testes e manutenÃ§Ã£o.**
